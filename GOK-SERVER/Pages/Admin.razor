@page "/admin"
    <table border="1">
        @foreach (DefaultClasses.Gebruiker gebruiker in gebruikers)
        {
            <tr>
                <td>
                    <p>@gebruiker.Naam</p>
                </td>
                <td>
                    <p>@gebruiker.Email</p>
                </td>
                <td>
                    <p>@gebruiker.Gebruikersnaam</p>
                </td>
                <td>
                    <MatButton Type="submit" OnClick="@(() => Verwijder(gebruiker))" Raised="true">Verwijderd</MatButton>
                </td>
            </tr>
        }
    </table>

@code{

    public List<DefaultClasses.Gebruiker> gebruikers { get; set; } = new List<DefaultClasses.Gebruiker>();
    public DefaultClasses.DBConnection DBConnection { get; set; }

    protected async override Task OnInitializedAsync()
    {
        DBConnection = new DefaultClasses.DBConnection();
        gebruikers = DBConnection.GetAllGebruikers();

        await Task.Delay(1);
    }

    public void Verwijder(DefaultClasses.Gebruiker gebruiker)
    {
        //TODO Popup

        DBConnection.RemoveGebruiker(gebruiker.Email);
        gebruikers.Remove(gebruiker);
        this.StateHasChanged();
    }
}